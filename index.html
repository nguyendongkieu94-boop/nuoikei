<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<title>Dá»° ÃN NUÃ”I KEI ğŸ±</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family: system-ui, sans-serif;
  background: linear-gradient(135deg,#ffb347,#fff3e0);
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
  margin:0;
}
.game{
  width:320px;
  background:#fffdf8;
  border-radius:22px;
  padding:20px;
  box-shadow:0 12px 30px rgba(255,152,0,.3);
  text-align:center;
}
.pet{font-size:80px;margin:10px 0}
.bar{background:#eee;border-radius:10px;overflow:hidden;margin-bottom:8px}
.bar-inner{height:10px;background:linear-gradient(90deg,#ff9800,#ffd54f)}
button{
  padding:10px;
  border:none;
  border-radius:14px;
  background:linear-gradient(135deg,#ffb74d,#ff9800);
  margin:4px;
  font-weight:600;
  cursor:pointer;
}
input,textarea{
  width:100%;
  margin-top:6px;
  padding:8px;
  border-radius:10px;
  border:1px solid #ddd;
}
#status{font-size:12px;margin-top:6px}
</style>
</head>

<body>

<div class="game">
<h2>Dá»° ÃN NUÃ”I KEI ğŸ±</h2>

<div id="pet" class="pet">ğŸ˜º</div>

ğŸš ÄÃ³i
<div class="bar"><div id="hunger" class="bar-inner"></div></div>
ğŸ˜Š Vui
<div class="bar"><div id="happy" class="bar-inner"></div></div>
ğŸ’¤ Pin
<div class="bar"><div id="energy" class="bar-inner"></div></div>

<button onclick="feed()">ğŸš Cho Äƒn</button>
<button onclick="play()">ğŸˆ ChÆ¡i</button>
<button onclick="sleepPet()">ğŸ’¤ Ngá»§</button>

<hr>

<strong>ğŸ’Œ Gá»­i lá»i nháº¯n cho Kei</strong>
<input id="guestName" placeholder="Báº¡n lÃ  ai nÃ¨ ğŸ¾">
<textarea id="guestMsg" rows="3" placeholder="NÃ³i gÃ¬ Ä‘Ã³ dá»‹u dÃ ng cho Kei Ä‘i~"></textarea>
<button onclick="sendMessage()">ğŸ’– Gá»­i</button>
<div id="status"></div>
</div>

<script>
let hunger=100,happy=100,energy=100;

function update(){
  hunger=Math.max(0,hunger);
  happy=Math.max(0,happy);
  energy=Math.max(0,energy);
  hungerBar.style.width=hunger+'%';
  happyBar.style.width=happy+'%';
  energyBar.style.width=energy+'%';
}
const hungerBar=document.getElementById('hunger');
const happyBar=document.getElementById('happy');
const energyBar=document.getElementById('energy');

function feed(){hunger+=20;happy+=5;update()}
function play(){
  if(energy<10)return;
  happy+=15;energy-=15;hunger-=10;update()
}
function sleepPet(){energy+=30;hunger-=5;update()}
setInterval(()=>{hunger--;happy--;energy--;update()},3000);
update();

/* ===== Gá»¬I GOOGLE SHEET ===== */
function sendMessage(){
  const name=document.getElementById("guestName").value||"áº¨n danh";
  const msg=document.getElementById("guestMsg").value;
  const status=document.getElementById("status");

  if(!msg){
    status.textContent="ğŸ± Kei Ä‘ang Ä‘á»£i lá»i nháº¯n Ä‘Ã³~";
    return;
  }

  fetch("https://script.google.com/macros/s/AKfycbzNIFaa3CkZpt-wqPUJso_5ZVU6RQ96sqTgMlF3Wx_Hn47lbPEK6UvPq0-wxV10_qwF/exec",{
    method:"POST",
    body:new URLSearchParams({name:name,message:msg})
  })
  .then(()=>{
    status.textContent="ğŸ’– Kei nháº­n Ä‘Æ°á»£c rá»“i nÃ¨~";
    guestMsg.value="";
    guestName.value="";
  })
  .catch(()=>{
    status.textContent="ğŸ˜¿ Lá»—i rá»“i, thá»­ láº¡i nha";
  });
}
</script>

</body>
</html>
