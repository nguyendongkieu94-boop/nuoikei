<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>D·ª∞ √ÅN NU√îI KEI üê±</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    :root{
      --orange-main:#ff9800;
      --orange-soft:#ffe0b2;
      --bg-soft:#fffdf8;
      --text-main:#2f261c;
    }

    *{box-sizing:border-box;}

    body{
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #ffe0b2 0, #ffb347 25%, #ff9a7b 55%, #fbe9e7 100%);
      min-height:100vh;
      margin:0;
      display:flex;
      justify-content:center;
      align-items:center;
      padding:18px;
      color:var(--text-main);
    }

    .game{
      width:360px;
      max-width:100%;
      background:rgba(255,253,248,.92);
      border-radius:24px;
      padding:18px 18px 20px;
      box-shadow:
        0 18px 40px rgba(191, 87, 0, .32),
        0 0 0 1px rgba(255,255,255,.7);
      backdrop-filter:blur(10px);
      position:relative;
      overflow:hidden;
    }

    /* decorative blobs */
    .game::before,
    .game::after{
      content:"";
      position:absolute;
      border-radius:999px;
      filter:blur(22px);
      opacity:.65;
      z-index:-1;
    }
    .game::before{
      width:120px;height:120px;
      background:#ffe082;
      top:-40px;right:-30px;
    }
    .game::after{
      width:100px;height:100px;
      background:#ffab91;
      bottom:-40px;left:-20px;
    }

    /* header */
    .header{
      display:flex;
      align-items:center;
      gap:12px;
      margin-bottom:10px;
    }
    .avatar-circle{
      width:52px;
      height:52px;
      border-radius:999px;
      background:linear-gradient(135deg,#ffe0b2,#ffcc80);
      display:flex;
      align-items:center;
      justify-content:center;
      font-size:30px;
      box-shadow:0 6px 16px rgba(255,152,0,.45);
    }
    h2{
      font-size:18px;
      margin:0 0 2px;
      letter-spacing:0.03em;
    }
    .header-tag{
      display:inline-flex;
      align-items:center;
      gap:4px;
      font-size:11px;
      padding:2px 8px;
      border-radius:999px;
      background:rgba(255,255,255,.8);
      border:1px solid rgba(255,183,77,.8);
      color:#bf360c;
      font-weight:600;
      text-transform:uppercase;
    }

    .subtitle-poem{
      font-size:13px;
      color:#ff8f00;
      margin:6px 0 14px;
      line-height:1.45;
      font-style:italic;
      text-align:left;
    }

    .pet{
      font-size:74px;
      margin:4px 0 10px;
      text-shadow:0 8px 16px rgba(255,152,0,.45);
    }

    /* section titles */
    .section-title{
      text-align:left;
      font-size:12px;
      font-weight:700;
      letter-spacing:0.08em;
      text-transform:uppercase;
      color:#a15b00;
      margin:4px 0 6px;
      display:flex;
      align-items:center;
      gap:6px;
    }
    .section-title span.icon{
      font-size:14px;
    }

    .status-row-label{
      font-size:12px;
      margin-bottom:3px;
      display:flex;
      justify-content:space-between;
      color:#5d4037;
    }
    .status-row-label span.tag{
      font-size:11px;
      padding:1px 6px;
      border-radius:999px;
      background:rgba(255,255,255,.9);
      border:1px solid rgba(0,0,0,.04);
    }

    .bar{
      background:#f0ece6;
      border-radius:999px;
      overflow:hidden;
      margin-bottom:7px;
      position:relative;
    }
    .bar-inner{
      height:10px;
      width:100%;
      border-radius:999px;
      background:linear-gradient(90deg,#ffb74d,#ff9800);
      box-shadow:0 0 10px rgba(255,152,0,.65);
      transition:width 0.35s ease-out;
    }
    .bar-inner.happy{
      background:linear-gradient(90deg,#ff8a65,#ffb74d);
    }
    .bar-inner.energy{
      background:linear-gradient(90deg,#81c784,#c5e1a5);
      box-shadow:0 0 10px rgba(129,199,132,.65);
    }

    .button-row{
      display:flex;
      flex-wrap:wrap;
      gap:6px;
      margin:10px 0 4px;
    }
    button{
      padding:8px 10px;
      border:none;
      border-radius:999px;
      background:linear-gradient(135deg,#ffcc80,#ff9800);
      margin:0;
      font-weight:600;
      cursor:pointer;
      box-shadow:0 6px 16px rgba(255,152,0,.4);
      transition:transform .1s,box-shadow .1s,filter .1s;
      font-size:12px;
      color:#4e342e;
      display:inline-flex;
      align-items:center;
      gap:4px;
    }
    button:hover{
      filter:brightness(1.03);
      box-shadow:0 8px 20px rgba(255,152,0,.45);
      transform:translateY(-1px);
    }
    button:active{
      transform:translateY(0px) scale(.97);
      box-shadow:0 3px 8px rgba(255,152,0,.35);
    }

    .divider{
      height:1px;
      width:100%;
      background:linear-gradient(90deg,transparent,#ffcc80,#ffab91,transparent);
      margin:12px 0 10px;
      opacity:.8;
    }

    /* message box */
    .message-block{
      text-align:left;
    }
    .message-block strong{
      font-size:13px;
    }
    .message-hint{
      font-size:11px;
      opacity:.75;
      margin:2px 0 6px;
    }

    input,textarea{
      width:100%;
      margin-top:6px;
      padding:8px 9px;
      border-radius:10px;
      border:1px solid #e0d4c8;
      font-family:inherit;
      font-size:13px;
      background:rgba(255,255,255,.95);
      transition:border .15s, box-shadow .15s, background .15s;
    }
    input:focus,textarea:focus{
      outline:none;
      border-color:#ffb74d;
      box-shadow:0 0 0 1px rgba(255,183,77,.4);
      background:#fffdf8;
    }
    #status{
      font-size:11px;
      margin-top:6px;
      min-height:1.2em;
      color:#6d4c41;
    }

    .send-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
      margin-top:8px;
    }
    #sendBtn{
      flex:0 0 auto;
      padding-inline:14px;
    }
    .little-tip{
      font-size:10px;
      opacity:.65;
      text-align:right;
      flex:1;
    }

    /* donate box */
    .donate-box{
      margin-top:10px;
      padding:10px 12px;
      border-radius:16px;
      background:#fff7e6;
      font-size:13px;
      text-align:left;
      border:1px dashed rgba(255,171,64,.8);
      position:relative;
    }
    .donate-box::before{
      content:"";
      position:absolute;
      width:32px;height:32px;
      border-radius:50%;
      background:radial-gradient(circle at 30% 30%,#fff,#ffe0b2);
      top:-18px;right:12px;
      box-shadow:0 6px 12px rgba(255,213,79,.65);
    }
    .donate-title{
      font-weight:700;
      margin-bottom:2px;
      display:flex;
      align-items:center;
      gap:6px;
      font-size:13px;
    }
    .donate-pill{
      font-size:10px;
      padding:2px 8px;
      border-radius:999px;
      background:rgba(255,255,255,.95);
      border:1px solid rgba(255,204,128,.9);
      text-transform:uppercase;
      letter-spacing:0.05em;
      color:#e65100;
    }
    .donate-text{
      margin:4px 0 8px;
      line-height:1.4;
      color:#5d4037;
      font-size:12px;
    }

    .account-block{
      margin-top:4px;
      padding:8px 10px;
      background:#ffffff;
      border-radius:12px;
      text-align:center;
      border:1px solid rgba(255,204,128,.8);
    }
    .account-bank{
      font-weight:700;
      font-size:11px;
      text-transform:uppercase;
      margin-bottom:2px;
      color:#e65100;
    }
    .account-name{
      font-size:11px;
      margin-bottom:3px;
    }
    .account-number{
      font-size:17px;
      font-weight:800;
      letter-spacing:1px;
      color:#3e2723;
    }

    .donate-row{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
      margin-top:8px;
    }
    #donateStatus{
      font-size:11px;
      opacity:.8;
    }

    .donate-btn{
      padding-inline:12px;
      white-space:nowrap;
    }

    /* animations */
    .heart {
      position: fixed;
      font-size: 18px;
      animation: floatUp 1.2s ease-out forwards;
      pointer-events:none;
    }
    button.sending {
      opacity: 0.7;
      pointer-events: none;
    }
    .shake {
      animation: shake 0.4s;
    }
  </style>
</head>

<body>
  <div class="game">
    <!-- HEADER -->
    <div class="header">
      <div class="avatar-circle">üò∫</div>
      <div>
        <h2>D·ª∞ √ÅN NU√îI KEI üê±</h2>
        <div class="header-tag">
          <span>pet project</span> ¬∑ <span>nu√¥i M√≤e b·∫±ng t√¨nh th∆∞∆°ng</span>
        </div>
      </div>
    </div>

    <div class="subtitle-poem">
      C√≥ c√¢y, c√≥ n√∫i, c√≥ ƒë·∫°i ƒë·ªãa, c√≥ th√°ng nƒÉm.<br>
      C√≥ Kei ƒë√¢y, b·∫°n c√≤n mong th·∫ø gi·ªõi n√†y t·ªët ƒë·∫πp ƒë·∫øn ch·ª´ng n√†o n·ªØa √°... üêæ
    </div>

    <div id="pet" class="pet">üò∫</div>

    <!-- STATUS -->
    <div class="section-title">
      <span class="icon">üìä</span> CH·ªà S·ªê S·ªêNG C√íN C·ª¶A M√íE
    </div>

    <div class="status-row-label">
      <span>üçö B·ª•ng m·∫∑p...</span>
      <span class="tag">no = √≠t qu·∫°u h∆°n</span>
    </div>
    <div class="bar"><div id="hunger" class="bar-inner"></div></div>

    <div class="status-row-label">
      <span>üò∫ ƒê·ªô h·ªõn...</span>
      <span class="tag">h·ªõn = g·ª´ g·ª´ g·ª´</span>
    </div>
    <div class="bar"><div id="happy" class="bar-inner happy"></div></div>

    <div class="status-row-label">
      <span>üîã ƒê·ªô ƒë·∫ßy pin...</span>
      <span class="tag">pin th·∫•p l√† c√†o ƒë√≥</span>
    </div>
    <div class="bar"><div id="energy" class="bar-inner energy"></div></div>

    <div class="button-row">
      <button onclick="feed()">üçö Cho m·ªôt con c√° ƒë·ªÉ nhai nhai nhai</button>
      <button onclick="play()">üéà B·∫Øt ch·∫°y b·ªô s·ªôc s·ªôc</button>
      <button onclick="sleepPet()">üí§ Cho Kei ng·ªß th√™m m·ª•t mi·∫øng</button>
    </div>

    <div class="divider"></div>

    <!-- MESSAGE -->
    <div class="message-block">
      <strong>üíå G·ª≠i l·ªùi nh·∫Øn cho Kei</strong>
      <div class="message-hint">Say something I'm giving up on you =))</div>

      <input id="guestName" placeholder="Ai m√† v√†o ƒë√¢y d·ª£ üêæ">
      <textarea id="guestMsg" rows="3" placeholder="∆†i t·ªõi ƒë√¢y r·ªìi th√¨ n√≥i g√¨ ƒëi~"></textarea>

      <div class="send-row">
        <button id="sendBtn" onclick="sendMessage()">üíñ G·ª≠i cho Kei</button>
        <div class="little-tip">N·∫øu c√≥ g√¨ kh√¥ng vui, √¥m n√® üê±</div>
      </div>

      <div id="status"></div>
    </div>

    <div class="divider"></div>

    <!-- DONATE -->
    <div class="donate-box">
      <div class="donate-title">
        üêæ ·ª¶ng h·ªô nu√¥i Kei
        <span class="donate-pill">optional</span>
      </div>
      <p class="donate-text">
        N·∫øu mu·ªën g√≥p √≠t b√°nh th∆∞·ªüng / c√°t v·ªá sinh / c√° h·ªôp,
        b·∫°n c√≥ th·ªÉ g·ª≠i v√†o ƒë√¢y, hahahhahaha =))) &lt;3
      </p>

      <div class="account-block">
        <div class="account-bank">VIETCOMBANK</div>
        <div class="account-name">Ch·ªß t√†i kho·∫£n: <strong>M√íE KEI</strong></div>
        <div class="account-number" id="accountNumber">1052956151</div>
      </div>

      <div class="donate-row">
        <button type="button" class="donate-btn" onclick="copyAccount()">
          üìã Copy STK
        </button>
        <div id="donateStatus"></div>
      </div>

      <div class="donate-note">
        G·ª£i √Ω n·ªôi dung chuy·ªÉn kho·∫£n: <strong>‚ÄúNu√¥i M√≤e Kei‚Äù</strong> ho·∫∑c m·ªôt c√°i g√¨ ƒë√≥ m·∫Øc c∆∞·ªùi c≈©ng ƒë∆∞·ª£c üíõ
      </div>
    </div>
  </div>

  <script>
    // ===== GAME NU√îI KEI =====
    let hunger = 100, happy = 100, energy = 100;

    const hungerBar = document.getElementById('hunger');
    const happyBar  = document.getElementById('happy');
    const energyBar = document.getElementById('energy');

    function updateBars(){
      hunger = Math.max(0, Math.min(100, hunger));
      happy  = Math.max(0, Math.min(100, happy));
      energy = Math.max(0, Math.min(100, energy));

      hungerBar.style.width = hunger + '%';
      happyBar.style.width  = happy  + '%';
      energyBar.style.width = energy + '%';
    }

    function feed(){
      hunger += 20;
      happy  += 5;
      updateBars();
    }

    function play(){
      if(energy < 10) return;
      happy  += 15;
      energy -= 15;
      hunger -= 10;
      updateBars();
    }

    function sleepPet(){
      energy += 30;
      hunger -= 5;
      updateBars();
    }

    setInterval(() => {
      hunger--;
      happy--;
      energy--;
      updateBars();
    }, 3000);

    updateBars();

    // ===== G·ª¨I L·ªúI NH·∫ÆN =====
    function sendMessage(){
      const nameInput = document.getElementById("guestName");
      const msgInput  = document.getElementById("guestMsg");
      const status    = document.getElementById("status");
      const btn       = document.getElementById("sendBtn");

      const name = nameInput.value || "·∫®n danh";
      const msg  = msgInput.value.trim();

      if(!msg){
        status.textContent = "üê± Kei ƒëang ƒë·ª£i l·ªùi nh·∫Øn ƒë√≥~";
        btn.classList.add("shake");
        btn.addEventListener("animationend", () => {
          btn.classList.remove("shake");
        }, { once: true });
        return;
      }

      // hi·ªáu ·ª©ng ƒëang g·ª≠i
      btn.textContent = "üíå ƒêang g·ª≠i...";
      btn.classList.add("sending");
      btn.style.animation = "pop 0.4s";

      // tr√°i tim bay
      const rect = btn.getBoundingClientRect();
      const heart = document.createElement("div");
      heart.className = "heart";
      heart.textContent = "üíñ";
      heart.style.left = (rect.left + rect.width/2) + "px";
      heart.style.top  = (rect.top - 10) + "px";
      document.body.appendChild(heart);
      setTimeout(() => heart.remove(), 1200);

      fetch("https://script.google.com/macros/s/AKfycbzNIFaa3CkZpt-wqPUJso_5ZVU6RQ96sqTgMlF3Wx_Hn47lbPEK6UvPq0-wxV10_qwF/exec",{
        method:"POST",
        body:new URLSearchParams({name:name,message:msg})
      })
      .then(() => {
        status.textContent = "üíñ Kei nh·∫≠n ƒë∆∞·ª£c r·ªìi n√®~";
        msgInput.value = "";
        nameInput.value = "";
      })
      .catch(() => {
        status.textContent = "üòø G·ª≠i ch∆∞a ƒë∆∞·ª£c, th·ª≠ l·∫°i nha";
      })
      .finally(() => {
        btn.textContent = "üíñ G·ª≠i cho Kei";
        btn.classList.remove("sending");
        btn.style.animation = "";
      });
    }

    // ===== COPY STK DONATE =====
    function copyAccount(){
      const accEl = document.getElementById("accountNumber");
      const accNumber = accEl.textContent.trim();
      const donateStatus = document.getElementById("donateStatus");

      if (!accNumber) {
        donateStatus.textContent = "Kh√¥ng ƒë·ªçc ƒë∆∞·ª£c STK, b·∫°n ki·ªÉm tra l·∫°i gi√∫p m√¨nh nha üòø";
        return;
      }

      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(accNumber)
          .then(() => {
            donateStatus.textContent = "ƒê√£ copy STK " + accNumber + " v√†o clipboard n√® üíñ";
            setTimeout(() => donateStatus.textContent = "", 2500);
          })
          .catch(() => {
            donateStatus.textContent = "Copy kh√¥ng ƒë∆∞·ª£c, b·∫°n copy tay gi√∫p m√¨nh nha üòø (STK: " + accNumber + ")";
          });
      } else {
        const temp = document.createElement("textarea");
        temp.value = accNumber;
        document.body.appendChild(temp);
        temp.select();
        try {
          document.execCommand("copy");
          donateStatus.textContent = "ƒê√£ copy STK " + accNumber + " v√†o clipboard n√® üíñ";
          setTimeout(() => donateStatus.textContent = "", 2500);
        } catch (e) {
          donateStatus.textContent = "Copy kh√¥ng ƒë∆∞·ª£c, b·∫°n copy tay gi√∫p m√¨nh nha üòø (STK: " + accNumber + ")";
        }
        document.body.removeChild(temp);
      }
    }
  </script>
</body>
</html>


